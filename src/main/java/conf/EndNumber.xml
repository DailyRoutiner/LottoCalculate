<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ENDNUMBER">
	<resultMap type="EndNumber" id="endNumber">
		<result property="n1" column="n1" />
		<result property="n2" column="n2" />
		<result property="n3" column="n3" />
		<result property="n4" column="n4" />
		<result property="n5" column="n5" />
		<result property="n6" column="n6" />
	</resultMap>
	
	<select id="selectEndNumber" resultMap="endNumber">
		select mod(substr(num, 1, instr(num, '/', 1, 1) -1), 10) n1, 
			mod(substr(num, instr(num, '/', 1, 1) +1, instr(num, '/', 1, 2) - instr(num, '/', 1, 1) -1), 10) n2,
			mod(substr(num, instr(num, '/', 1, 2) +1, instr(num, '/', 1, 3) - instr(num, '/', 1, 2) -1), 10) n3,
			mod(substr(num, instr(num, '/', 1, 3) +1, instr(num, '/', 1, 4) - instr(num, '/', 1, 3) -1), 10) n4,
			mod(substr(num, instr(num, '/', 1, 4) +1, instr(num, '/', 1, 5) - instr(num, '/', 1, 4) -1), 10) n5,
			mod(substr(num, instr(num, '/', 1, 5) +1), 10) n6
		from(select winning_number num from TOTAL_RESULT)
	</select>
</mapper>
